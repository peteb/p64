#include "6502.h"

int main() {
  static cpu_state_t cpu = {
    0, 0, 0,
    .ps = 0x20,
    .sp = 0xFF,
    .mem = {0xA9, 0xFA, 0x69, 0x06, 0x08, 0x18, 0x28, 0xBA,  /* 8 */
            0x8E, 0x13, 0x37, 0xEA, 0xEA, 0x20, 0x00, 0x18,  /* 16 */
            0xEA, 0xEA, 0xEA, 0xEA,    0,    0,    0,    0,     /* 24 */
            0x18, 0xA9, 0x02, 0x09, 0x08, 0x60,    0,    0,    0}
  };

  run_machine(&cpu);
  print_state(&cpu);

  cpu.pc = 0;
  print_instr(&cpu, 40);
  return 0;
}

